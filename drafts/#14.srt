1
00:00:00,000 --> 00:00:03,017
Willkommen zurück zu "Let's build a compiler".
Bem-vindo de volta ao "Let's build a compiler". 
Welcome back to "Let's build a compiler". 

2
00:00:03,010 --> 00:00:04,942
In der letzten Folge haben wir angefangen
No último episódio nós havíamos começado
In the last episode we had began

3
00:00:04,940 --> 00:00:07,720
einfache Funktionen in unsere Sprache aufzunehmen.
a estabelecer funções simples na nossa linguagem.
to establish simple functions in our language.

4
00:00:07,720 --> 00:00:09,382
Diese konnten jedoch nur aus einem
No entanto, com elas podemos colocar apenas
However, with them we can only put

5
00:00:09,380 --> 00:00:12,013
return-Statement und nichts weiter bestehen.
statement de retorno e nada mais.
return statement and nothing else.

6
00:00:12,010 --> 00:00:14,240
In dieser Folge werden wir unsere Funktionen
Neste episódio iremos expandir nossas funções
In this episode we will expand our functions

7
00:00:14,240 --> 00:00:15,942
so erweitern, dass sie auch weiteren
para que também possamos também
for that we can also

8
00:00:15,940 --> 00:00:17,471
Code enthalten können.
conter código.
contain code.

9
00:00:17,470 --> 00:00:18,884
In dem Rahmen werden wir uns
Dentro do contexto, nós iremos
In the context, we will

10
00:00:18,880 --> 00:00:21,240
auch erstmal mit Scopes beschäftigen.
também pela primeira vez trabalhar com escopos (Scopes).
also for the first time work with scopes.

11
00:00:21,240 --> 00:00:23,128
Denn wir wollen die Variablentabelle  
Porque nós queremos a tabela de variáveis
Because we want the variables table

12
00:00:23,120 --> 00:00:25,466
mehrerer Funktionen trennen.
separe mais funções.
to separate more functions.

13
00:00:25,880 --> 00:00:27,120
Hier haben wir unser Beispiel
Aqui nós temos nosso exemplo
Here we have our example

14
00:00:27,120 --> 00:00:28,315
aus letzter Folge:
do último episódio:
from last episode:

15
00:00:28,310 --> 00:00:29,817
Das einfache "randomNumber"
O simplório "randomNumber"
The simple "randomNumber"

16
00:00:29,810 --> 00:00:31,653
mit dem "return 4".
com o "return 4".
with the "return 4".

17
00:00:31,650 --> 00:00:34,328
Das kopiere ich jetzt einmal hier raus,
Eu o copio agora uma vez para cá,
I now copy it once out here,

18
00:00:37,293 --> 00:00:39,217
füg' das in einem Texteditor ein
adiciono no nosso editor de texto
add it to our text editor

19
00:00:39,210 --> 00:00:41,653
und dann können wir hier leichter
e então podemos mais facilmente
and then we can more easily

20
00:00:41,653 --> 00:00:43,650
drin rumformatieren.
formatar em volta.
format around there.

21
00:00:44,751 --> 00:00:47,951
Jetzt in diesem etwas besser lesbaren Beispiel
Agora neste exemplo mais legível
Now with this more readable example

22
00:00:47,950 --> 00:00:49,493
werden wir den Quelltext
faremos que o código fonte
we'll make the source code

23
00:00:49,490 --> 00:00:51,306
ein wenig komplexer gestalten.
um pouco mais complexo.
a little more complex.

24
00:00:51,300 --> 00:00:52,808
Zum Beispiel könnten wir sagen:
Como exemplo podemos dizer aqui:
As example we can say here:

25
00:00:52,800 --> 00:00:56,017
Wir haben hier ein Integer "i"
Nós temos aqui um integer "i"
We have here an integer "i"

26
00:00:56,582 --> 00:00:59,640
dem weisen wir dann die Vier zu
aí nós temos o quatro
we have then the four

27
00:01:00,137 --> 00:01:01,657
und dann wollen wir
e então queremos
and then we want

28
00:01:01,650 --> 00:01:04,111
diese Variable hier zurückgeben.
retornar esta variável aqui.
to return this variable here.

29
00:01:04,342 --> 00:01:06,551
Es sollte also immernoch das gleiche Ergebnis
Ela deve também continuar com o resultado de sempre
It's necessary to continue having the same result

30
00:01:06,550 --> 00:01:08,746
rauskommen, aber der Quelltext ist jetzt
na saída, mas o código fonte está agora
on output, but the source code is now

31
00:01:08,740 --> 00:01:10,573
ein bißchen komplizierter geworden.
um pouco mais complicado.
a little bit more complicated.

32
00:01:10,570 --> 00:01:13,160
Und damit haben ein Beispiel für eine Funtkion
e com isso temos um exemplo para uma função
and with it we have an example for a function

33
00:01:13,160 --> 00:01:16,048
die noch mehr als nur ein Returnstatement hat.
que tenha mais do que apenas um statement de retorno.
that has more than only a return statement.

34
00:01:16,351 --> 00:01:18,831
Kopieren wir das ganze also wieder
Nós copiamos tudo novamente
We copy it all again

35
00:01:19,391 --> 00:01:22,764
und fügen dies hier ein.
e adicionamos isto aqui.
and add it here.

36
00:01:22,760 --> 00:01:24,475
Dafür muss ich natürlich zuerstmal
Para isto, precisamos por primeiro
For this, we need at first

37
00:01:24,470 --> 00:01:26,435
diese Zeile hier kopieren,
copiar este caractere aqui,
to copy this character here,

38
00:01:28,977 --> 00:01:32,564
um dann das hier nochmal zu kopieren
e então copiar isto daqui mais uma vez
and then copy this here once more

39
00:01:32,560 --> 00:01:34,764
und hier einzufügen.
e então executamos uma vez.
and then we execute.

40
00:01:38,942 --> 00:01:41,137
So, dann fehlt hier hinten
Assim, então falta ainda atrás
So, then is missing behind

41
00:01:41,130 --> 00:01:42,866
noch ein Komma
uma vírgula ainda
yet a comma

42
00:01:42,860 --> 00:01:45,231
und dann können wir den Test mal laufen lassen.
e então podemos deixar o teste rodando.
and then we can let the test running.

43
00:01:47,404 --> 00:01:49,480
Schauen wir uns das Ergebnis an:
Observamos o resultado adiante:
We observe the result:

44
00:01:49,480 --> 00:01:52,177
Und hier oben hat ANTLR gemeckert:
E aqui em cima o ANTLR notou:
And here above the ANTLR noticed:

45
00:01:52,170 --> 00:01:53,782
Es sagt "mismatched input 'int'",
Ele diz "mismatched input 'int'",
It says "mismatched input 'int'",

46
00:01:53,780 --> 00:01:55,942
es hätte nämlich ein "return" erwartet.
Ele esperou por um "return".
It has waited for a "return".

47
00:01:55,940 --> 00:01:58,013
Wenn wir jetzt auf unsere Grammatik schauen
Se nós agora observarmos nossa gramática
If we observe now our grammatic

48
00:01:58,010 --> 00:01:58,973
dann sehen wir jetzt hier,
então vemos aqui,
then we see here,

49
00:01:58,970 --> 00:02:01,817
dass hinter der sich öffnenden geschweiften Klammer
que depois do abre chaves
that after the open braces

50
00:02:01,810 --> 00:02:03,760
direkt ein "return" kommen sollte,
deve voltar diretamente um "return",
needs to come directly a "return",

51
00:02:03,760 --> 00:02:06,231
nämlich das und nicht unser "int"
e que não o nosso "int"
and not that our "int"

52
00:02:06,230 --> 00:02:08,515
mit der Variablendefinition.
com a definição de variável.
with the variable definition.

53
00:02:08,510 --> 00:02:10,173
Also wollen wir jetzt hier,
Também queremos agora aqui,
Also we want now here,

54
00:02:10,170 --> 00:02:13,582
zwischen der sich öffnended Klammer und dem "return"
entre o abre chaves e o "return"
between the open brackets and the "return"

55
00:02:13,580 --> 00:02:15,706
noch beliebige Statements erlauben.
nenhum statement seja permitido.
to allow no statements.

56
00:02:15,700 --> 00:02:17,960
Dafür füge ich jetzt hier also ein
Para isso, adicionamos aqui também
Thus, I now add here also

57
00:02:21,840 --> 00:02:23,720
dass Statements vorkommen dürfen
quais statements retornados devem
which returned statements should

58
00:02:23,720 --> 00:02:25,302
die eine "statementList" sind.
ser um "statementList".
be a "statementList".

59
00:02:25,300 --> 00:02:27,155
Was die "statementList" jetzt genau ist
Ainda devemos definir o que o "statementList"
Now, we need to define what the "statementList"

60
00:02:27,155 --> 00:02:29,150
müssen wir natürlich auch noch definieren.
exatamente será, é claro.
of course, would exactly be.

61
00:02:29,786 --> 00:02:32,786
Dafür fügen wir hier eine neue Regeln ein.
Portanto, adicionamos aqui uma nova regra.
Therefore, we add here a new rule.

62
00:02:39,928 --> 00:02:42,311
Also bedeutet unsere Statementlist
Assim fazemos com nosso statementlist
So we do with out statementlist

63
00:02:42,310 --> 00:02:44,271
dass wir ein Statement haben
para que tenha um statement
that it has a statement

64
00:02:44,270 --> 00:02:46,880
jeweils gefolgt von einem Semikolon
respectivamente seguido de um ponto e vírgula
respectively followed by a semicolon

65
00:02:47,155 --> 00:02:49,693
und das darf dann beliebig häufig vorkommen,
e que deve então retornar com frequência,
and it must return often,

66
00:02:49,690 --> 00:02:52,231
auch null mal vorkommen,
mesmo não retornando nada,
even returning nothing,

67
00:02:52,230 --> 00:02:53,720
denn es kann ja tatsächlich sein
então ele pode verdadeiramente
then it can truly  

68
00:02:53,720 --> 00:02:56,502
dass unsere Funktion einfach nur ein "return" enthält
conter apenas um "return" na nossa função
contain only a "return" in our function

69
00:02:56,500 --> 00:02:58,186
und kein sonstiges Statement.
e nenhum outro statement.
and no other statement.

70
00:02:58,180 --> 00:03:00,933
Dann generieren wir unseren Parser wieder neu
Então geramos nosso novo parser novamente
Then we generate our new parser again

71
00:03:03,835 --> 00:03:06,857
und gehen hier auf "F5",
e pressionamos com "F5".
and press "F5".

72
00:03:07,746 --> 00:03:10,128
führen unseren Test aus
executamos nossos testes
execute our tests

73
00:03:12,617 --> 00:03:14,724
und wie ihr seht, es gibt jetzt hier oben
e como você pode ver, ele fornece agora aqui acima
and as you can see, it gives us up there

74
00:03:14,720 --> 00:03:17,564
keinen Fehler von ANTLR oder Jasmin mehr
sem ter mais erros do ANTLR ou Jasmin
without more errors in the ANTLR or Jasmin

75
00:03:17,560 --> 00:03:19,586
aber hier unten haben wir noch eine
mas aqui embaixo nós temos ainda
but down here we have still

76
00:03:19,580 --> 00:03:23,666
UndeclaredVariableException, nämlich die Variable "i"
UndeclaredVariableException, a variável "i"
UndeclaredVariableException, the variable "i"

77
00:03:23,660 --> 00:03:24,995
auf die wir hier zugreifen
que acessamos aqui
that we access here

78
00:03:24,990 --> 00:03:27,284
ist angeblich nicht definiert.
é alegadamente não definido.
its allegedly not defined.

79
00:03:27,280 --> 00:03:28,617
Das liegt natürlich daran,
Está desta forma porque,
It's in this way because,

80
00:03:28,610 --> 00:03:30,497
dass wir jetzt zwar definiert haben
isto aqui agora temos definido
that we have yet defined

81
00:03:30,490 --> 00:03:32,377
in unser Grammatik dass dieser Teil hier
na nossa gramática esta parte aqui
in our grammatic this part here

82
00:03:32,370 --> 00:03:34,711
vorkommen darf, in Form der statementList,
deva retornar, na forma de statementList,
should return, in the form of a statementlist,

83
00:03:34,710 --> 00:03:37,351
aber wir generieren nie Instruktionen
mas nós nunca geramos instruções
but we never generate instructions

84
00:03:37,350 --> 00:03:38,960
für diesen Code hier und deswegen
para este código aqui e por isso
for this code here and because of this 

85
00:03:38,960 --> 00:03:42,040
ist natürlich auch die Variable "i" nicht definiert.
a variável "i" ainda não está definida.
the variable "i" still not defined.

86
00:03:42,480 --> 00:03:44,671
Also gehen wir wieder in unseren Visitor
Assim vamos novamente para nosso visitor
So, we go again in our visitor

87
00:03:44,670 --> 00:03:47,542
zu unser "visitFunctionDefinition"
para nosso "visitFunctionDefinition"
to our "visitFunctionDefinition"

88
00:03:47,540 --> 00:03:49,973
und ... dann ...
e... então...
and... then...

89
00:03:49,970 --> 00:03:51,546
erzeugen wir jetzt erstmal
criamos primeiramente aqui
we create at first here

90
00:03:51,546 --> 00:03:53,540
den Code für unsere Statements.
o código para nossos statements.
the code to our statements.

91
00:04:00,653 --> 00:04:03,786
Und diese Liste fügen wir dann
E adicionamos esta lista então
And we add this list

92
00:04:03,780 --> 00:04:05,893
an dieser Stelle hier ein.
neste local aqui.
at this point here.

93
00:04:08,351 --> 00:04:10,235
Jetzt kann es allerdings auch sein
Ele pode, todavia, ser que
It can, however, also be

94
00:04:10,230 --> 00:04:13,275
dass diese "statementInstructions" hier "null" sind,
estes "statementInstructions" sejam "null",
that the "statementInstructions" are "null",

95
00:04:13,270 --> 00:04:15,986
denn wenn wir keine Instructions,
por não haverem instruções,
because it has no instructions,

96
00:04:15,980 --> 00:04:19,097
also wenn wir keine Statements haben,
também quando não haverem statements,
also when there is no statements,

97
00:04:19,090 --> 00:04:21,911
dann kann dieses "visit" hier auch nicht generieren,
então não podemos gerar aqui o nosso "visit",
then we can't generate here our "visit",

98
00:04:21,910 --> 00:04:23,968
es kommt einfach nur "null" zurück,
ele simplesmente dá "null" de volta,
it just gives us "null" back,

99
00:04:23,960 --> 00:04:26,462
weil das der Defaultrückgabewert ist
porque é o valor padrão de retorno
because it is the default return value

100
00:04:26,657 --> 00:04:29,520
und dann wollen wir hier an der Stelle
E então queremos aqui no local
And then we want here in place

101
00:04:29,520 --> 00:04:30,937
auch nichts ausgeben.
não ter saída.
have no output. 

102
00:04:30,930 --> 00:04:33,506
Also sagen wir hier
Também dizemos aqui
Also we say here

103
00:04:33,500 --> 00:04:36,342
dass bitte wenn "statementInstructions"
que se "statementInstructions"
that when "statementInstructions"

104
00:04:36,342 --> 00:04:38,340
gleich gleich null ist,
igual igual a null,
equal equal is null,

105
00:04:38,884 --> 00:04:42,462
dann soll hier bitte nichts hinzugefügt werden
então não deve adicionar aqui
then it shall not add here

106
00:04:42,460 --> 00:04:45,933
und ansonsten eben die "statementInstructions"
e de outra forma apenas termine o "statementInstructions"
and otherwise finish only the "statementInstructions" 

107
00:04:45,930 --> 00:04:50,262
mit dem Zeilenumbruch am Ende.
com uma nova linha
with a new line

108
00:04:51,097 --> 00:04:54,182
Dann führen wir unsere Tests nochmal aus.
Então execute nosso teste mais uma vez.
Then execute our test more one time.

109
00:04:54,871 --> 00:04:56,222
Und wie wir sehen:
E como nós vemos:
And as we see:

110
00:04:56,220 --> 00:04:57,484
Es hat alles funktioniert,
Tudo nele funcionou,
Everything worked,

111
00:04:57,480 --> 00:04:59,484
alle Tests sind durchgelaufen,
todos os testes passaram,
all the tests have passed,

112
00:04:59,484 --> 00:05:01,480
auch unser Neuer hier.
o nosso novo aqui também.
our new here also.

113
00:05:03,048 --> 00:05:05,880
Werfen wir hier nochmal einen Blick auf unseren Quelltext.
Vamos dar uma olhada novamente no nosso código fonte.
Let's take a look at our source code.

114
00:05:05,880 --> 00:05:07,871
Was wäre eigentlich wenn wir hier
O acontece aqui se nós 
What happens here if we

115
00:05:07,870 --> 00:05:10,613
die Variable "int i" nocheinmal haben?
temos mais uma vez a variável "int i"?
have once again our variable "int i"?

116
00:05:12,457 --> 00:05:15,857
Und dann beispielsweie hier 42 zuweisen
E então atribuímos 42 aqui
And then we assign the value 42 here

117
00:05:19,297 --> 00:05:21,955
und dies auch noch am Ende ausgeben.
e isto bem junto ao fim.
and this at the very end.

118
00:05:22,382 --> 00:05:24,724
Jetzt haben wir die Variable "i" nämlich zweimal
Agora nós temos duas vezes a variável "i"
Now we have twice the "i" variable

119
00:05:24,720 --> 00:05:26,808
nämlich einmal hier und einmal hier.
uma vez aqui e uma vez aqui.
namely once here and once here.

120
00:05:27,222 --> 00:05:30,084
Wenn wir jetzt "randomNumber" aufrufen,
Se nós chamamos agora "randomNumber",
If we call "randomNumber" now,

121
00:05:30,080 --> 00:05:32,866
dann müsste hier etwas zurückkommen
então precisamos retornar algo
then we need to return something

122
00:05:32,860 --> 00:05:33,951
oder auch nicht
ou também não
or will not

123
00:05:34,240 --> 00:05:37,195
und hier müsste auch etwas ausgegeben werden.
e aqui também precisamos retornar algo.
and here we need also something to return.

124
00:05:37,190 --> 00:05:39,200
Was würde ihr für intuitiv halten
O que você intuitivamente acredita
What do you intuitively believe

125
00:05:39,200 --> 00:05:41,200
was mit diesem Quelltext passiert?
que aconteceu com este código fonte?
that happened with this source code?

126
00:05:41,200 --> 00:05:43,537
Ich würde sagen: Es wäre logisch
Eu direi: Ele logicamente
I going to say: It would logically

127
00:05:43,530 --> 00:05:45,684
wenn das hier, diese "i"
se está aqui no "i"
if it is here, this "i"

128
00:05:45,680 --> 00:05:48,026
so eine Art globale Variable wäre
seria uma variável global
would be a global variable

129
00:05:48,020 --> 00:05:50,862
und das hier oben, im randomNumber
e aqui em cima no randomNumber
and up here in the randomNumber

130
00:05:50,860 --> 00:05:54,951
eine lokale Variable und daher würde sich
uma variável local, e depois
a local variable, and after

131
00:05:54,950 --> 00:05:58,693
diese globale Variable hinter der lokalen verstecken.
esta variável global se esconderá da variável local.
this global variable will hide from the local.

132
00:05:58,690 --> 00:06:00,448
Wenn "randomNumber" aufgerufen wird,
Se "randomNumber" for chamado,
If "randomNumber" will be called,

133
00:06:00,440 --> 00:06:03,835
wird hier mit der lokalen Variable gearbeitet,
trabalhará aqui com a variável local,
will work here with the local variable,

134
00:06:03,830 --> 00:06:05,355
es wird 4 zurückgegeben,
ele retornará 4,
it will return 4,

135
00:06:05,350 --> 00:06:07,195
hier wird vier ausgegeben
quatro sendo a saída
four being the output

136
00:06:07,190 --> 00:06:09,177
und hier diese Funktion
e aqui esta função
and here this function

137
00:06:09,170 --> 00:06:11,017
also an dieser Stelle ist natürlich von
também neste local pertence
also at this place is from

138
00:06:11,010 --> 00:06:13,986
der Variable hier oben nichts bekannt
à variável aqui de cima não conhecida
the unknown above variable

139
00:06:13,980 --> 00:06:16,702
und daher würde dann hier
e depois irá então
and after will then

140
00:06:16,700 --> 00:06:18,022
die 42 ausgegeben.
dar 42 de saída.
give 42 as output.

141
00:06:18,020 --> 00:06:22,088
Also müsste erst vier und dann 42 rauskommen.
Também deveríamos primeiro fazer sair quatro e então 42.
Also we needed first as outcome the four and then the 42.

142
00:06:22,080 --> 00:06:23,733
Schauen wir uns mal an
Vamos dar uma olhada
Let's have a look

143
00:06:23,730 --> 00:06:25,937
was denn tatsächlich der Fall ist,
no que verdadeiramente é o caso,
on what indeed is the case,

144
00:06:25,930 --> 00:06:29,280
was unser Compiler aus dem Quelltext erstellt.
no que o nosso código fonte coloca no compilador.
what out source code puts on our compiler.

145
00:06:29,280 --> 00:06:31,262
Dann kopieren wir uns den
Então copiamos para nós
Then we copy

146
00:06:32,342 --> 00:06:34,604
in einen neuen Testfall,
em um novo caso de teste,
in a new case test,

147
00:06:35,226 --> 00:06:39,386
ich kopier erstmal wieder unser Template hier oben
eu copio primeiro nosso modelo de novo aqui de cima
First, I copy again our template from above

148
00:06:50,120 --> 00:06:52,817
und dann müsste ja meiner Meinung nach
e então precisamos na minha opinião
and then we need in my opinion

149
00:06:52,810 --> 00:06:56,875
hier zuerst die vier ausgegeben werden
fornecer como saída o quatro primeiro
give the four as output first

150
00:06:57,680 --> 00:06:59,164
...und...
...e...
...and...

151
00:06:59,573 --> 00:07:03,008
danach nocheinmal die 42.
depois mais uma vez o 42.
after once more the 42.

152
00:07:06,404 --> 00:07:09,906
Dann führen wir den Compiler einmal aus
Então executamos o compilador 
Then we execute the compiler

153
00:07:10,782 --> 00:07:13,182
und gucken was tatsächlich passiert ist.
e olhamos o que realmente aconteceu.
and we look what really occurred.

154
00:07:13,475 --> 00:07:15,640
Tätsächlich haben wir das garnichts ausgegeben,
Realmente, não temos nada como saída,
In fact, we have nothing as output,

155
00:07:15,640 --> 00:07:18,528
sondern wir haben eine VariableAlreadyDefinedExcpeition
mas nós temos uma VariableAlreadyDefinedExcpeition
but we have a VariableAlreadyDefinedExcpeition

156
00:07:18,520 --> 00:07:21,160
bekommen, weil in Zeile 6,
retornando, enquanto na linha 6,
returning, while in the line 6,

157
00:07:21,160 --> 00:07:24,622
das ist also... 1, 2, 3, 4, 5, 6,
assim isto é... 1, 2, 3, 4, 5, 6,
so is this... 1, 2, 3, 4, 5, 6,

158
00:07:24,620 --> 00:07:26,293
das ist also diese Zeile hier,
assim também é a linha daqui,
so is this line here,

159
00:07:26,290 --> 00:07:29,555
ist die Variable "i" angeblich schon definiert.
é a variável "i" alegadamente já definida.
is the "i" variable allegedly yet defined.

160
00:07:29,550 --> 00:07:31,422
Was mit anderen Worten heißt:
O que com outras palavras significa:
What in other words means:

161
00:07:31,420 --> 00:07:33,782
Hier unten, dieser Teil weiss
Aqui embaixo, esta parte sabe
Down here, this part knows

162
00:07:33,780 --> 00:07:36,186
welche Variablen hier oben definiert sind
quais variáveis daqui em cima são definidas
which variables above are defined

163
00:07:36,180 --> 00:07:38,604
und das sollte eigentlich nicht der Fall sein.
e isto não deve ser o caso.
and this might strongly not be the case.

164
00:07:38,600 --> 00:07:40,617
Es ist auch tatsächlich ein Problem,
Isto é verdadeiramente um problema,
This is really a problem 

165
00:07:40,610 --> 00:07:42,924
denn auf die lokale Variablentabelle
então podemos acessar a tabela de variáveis local
then we could access the local variables table

166
00:07:42,920 --> 00:07:45,226
von dieser Funktion könnten wir,
a partir desta função
from this function

167
00:07:45,220 --> 00:07:46,817
selbst wenn wir wollen
mesmo se nós não quisermos
even if we don't want

168
00:07:46,810 --> 00:07:49,222
nicht von einer anderen Funktion,
de uma outra função,
from an another function,

169
00:07:49,220 --> 00:07:51,297
also von unser "main"-Funktion her
também sobre nossa função "main".
also from our "main" function.

170
00:07:51,290 --> 00:07:53,226
aus zugreifen. Dann müssten wir die Variablen
Então também devemos colocar as nossa variáveis
Then we must to put our variables

171
00:07:53,220 --> 00:07:56,831
auch woanders ablegen als in unser lokalen Variablentabelle.
em outro lugar diferente da nosso tabela de variáveis.
in other place than in our variables table.

172
00:07:56,830 --> 00:07:59,026
Das Problem was wir jetzt hier haben
O problema era que nós temos agora aqui 
The problem is that we have here now

173
00:07:59,020 --> 00:08:01,524
beschäftigt sich mit Scopes.
trabalho com escopos.
work with Scopes.

174
00:08:01,520 --> 00:08:03,951
Ein so ein Scope besagt:
Um escopo assim afirma:
Such a scope states:

175
00:08:03,950 --> 00:08:08,444
Diese Variablen sind in einem definierten Bereich gültig
Estas variáveis são válidas em uma área definida
These variables are valid in a defined area

176
00:08:08,440 --> 00:08:11,635
und ein so ein Definitionsbereich ist ein Scope.
e uma área definida assim é um escopo.
and a so defined area is a scope

177
00:08:11,630 --> 00:08:14,000
Und wir haben dann jetzt hier einen globalen Scope,
E nós temos agora então um escopo global aqui,
And then we have now a global scope here then,

178
00:08:14,000 --> 00:08:15,617
nämlich den hier unten
que é isto abaixo
namely below

179
00:08:15,610 --> 00:08:18,480
oder von mir aus ist es auch ein lokaler Scope,
ou de mim, é também um escopo local
or from me, it is also a local scope,

180
00:08:18,480 --> 00:08:20,640
nämlich der der "main"-Funktion
da função "main"
namely of the "main" function

181
00:08:20,640 --> 00:08:24,217
aber hier haben wir auf jedenfall einen anderen Scope,
mas aqui nós temos em todo caso um outro escopo,
but here we always have an different scope,

182
00:08:24,210 --> 00:08:26,573
nämlich einen lokalen Scope
que é um escopo local
namely a local scope

183
00:08:26,570 --> 00:08:29,382
der Funktion "randomNumber".
a função "randomNumber".
the function "randomNumber".

184
00:08:29,380 --> 00:08:30,444
Da wollen wir jetzt mal schauen
Ali queremos agora ver
We want to see 

185
00:08:30,440 --> 00:08:32,213
was wir da machen können.
o que podemos fazer.
what we could do.

186
00:08:32,933 --> 00:08:35,728
Also schauen wir nochmal in unseren Visitor
Assim vemos novamente no nosso visitor
So we see again in our visitor

187
00:08:35,720 --> 00:08:37,906
und schauen nochmal nach wie unser
e depois vemos novamente como
and we see again after how

188
00:08:37,900 --> 00:08:41,924
System mit der Variablendefinition eigentlich funktioniert.
funciona o System com a definição de variáveis.
does the System work with the variables definition.

189
00:08:41,920 --> 00:08:43,151
Wir haben hier oben diese Map
Nós temos aqui em cima neste mapa
We have here above in our map

190
00:08:43,150 --> 00:08:44,728
mit der Variablentabelle,
com a tabela de variáveis,
with the variables table,

191
00:08:44,720 --> 00:08:47,755
das ist einfach nur eine HashMap von Strings to Integers
que é simplesmente um mapa Hash de strings para integers
which is just a hash map from strings to integers

192
00:08:47,750 --> 00:08:50,435
und die ordnet entsprechend jedem Variablennamen
e classificadas de acordo com cada nome de variável
and classified according to each variable name

193
00:08:50,430 --> 00:08:53,240
eine Position in der Variablentabelle zu.
uma posição na tabela de variáveis.
a position in the variables table.

194
00:08:53,502 --> 00:08:56,351
Jetzt haben wir aber nicht nur eine Variablentabelle
Mas temos agora não apenas uma tabela de variáveis.
But we have not only one variables table.

195
00:08:56,350 --> 00:08:58,560
sondern ganz viele, nämlich eine pro Funktion
mas muitas, nomeada como uma função pro
but many, namely a pro function

196
00:08:58,560 --> 00:09:02,191
und das ist zumindest mal eine der "main"-Funktion
e é ao menos uma vez a função "main"
and it's at least once the "main" function

197
00:09:02,190 --> 00:09:04,733
und eine unser lokalen Funktion
e uma função local nossa
and an our local function

198
00:09:04,730 --> 00:09:07,337
"randomNumber" in dem Beispiel welches wir eben hatten.
"randomNumber" no exemplo que tínhamos antes.
"randomNumber" in the exemple that we had before.

199
00:09:07,330 --> 00:09:08,546
Wir könnten auch noch sagen,
Nós podemos também dizer ainda,
We can say also yet,

200
00:09:08,540 --> 00:09:11,871
dass der Scope der "main"-Funktion global sein soll,
que o escopo da função "main" deve ser global,
that the "main" function scope should be global,

201
00:09:11,870 --> 00:09:13,715
dann hätten wir eben einen globalen Scope
então tínhamos anteriormente um escopo global
then we had a global scope before

202
00:09:13,710 --> 00:09:17,324
und einen lokalen Scope für unsere Funktion "randomNumber".
e um escopo local para nossa função "randomNumber".
and a local scope for our "randomNumber" function.

203
00:09:17,320 --> 00:09:18,982
Und wenn wir noch mehr Funktionen hätten,
E se nós ainda temos mais funções,
And if we had more functions,

204
00:09:18,980 --> 00:09:20,915
dann eben noch mehr lokale Scopes.
teríamos ainda mais escopos locais acima,
we've had then more above local scopes.

205
00:09:20,910 --> 00:09:22,293
Wir müssen jetzt also in der Lage sein
Agora nós precisamos também ser capazes de
Now we need to be able to

206
00:09:22,290 --> 00:09:25,017
zwischen diesen Scopes hin- und herzuwecheln
trocar entre estes escopos
switch between these scopes

207
00:09:25,010 --> 00:09:27,040
und zwar an den richtigen Stellen.
e colocá-los corretamente.
and put them in the right places.

208
00:09:27,040 --> 00:09:28,777
Das heißt immer wenn wir uns gerade
Isto significa sempre quando é gerado
That means always if it is generated

209
00:09:28,770 --> 00:09:31,573
mit dem Inhalt einer Funktion beschäftigen
com o conteúdo de uma função que vamos lidar
with a function content that we'll deal

210
00:09:31,570 --> 00:09:33,564
brauchen wir die Variablentabelle
precisamos da tabela de variáveis 
we need the variables table

211
00:09:33,560 --> 00:09:36,151
die zu unser aktuellen Funktion passt.
para que nos sirva na nossa função atual.
so that it fits our actual function.

212
00:09:37,102 --> 00:09:39,084
Das heißt zu Funktionen kommen wir
Isto significa que chegamos às funções
This means that we come to functions

213
00:09:39,080 --> 00:09:41,880
immer wenn wir eine "functionDeclaration" bekommen.
sempre quando nós pegamos uma "functionDeclaration".
always when we get a "functionDeclaration".

214
00:09:42,573 --> 00:09:45,657
Jetzt haben wir hier diese "functionDefinition"s,
Agora nós temos aqui estas "functionDefinition"s,
Now we have here these "functionDefinition"s,

215
00:09:45,650 --> 00:09:48,120
jetzt können wir hier sagen, dass
com as quais podemos dizer
in which we can say

216
00:09:48,488 --> 00:09:52,071
vor der Funktion... unser alter Scope,
para a função... nosso antigo escopo,
to our function... our old scope,

217
00:09:52,070 --> 00:09:56,600
das ist die Variablentabelle,
isto é a tabela de variáveis,
that is the variable table,

218
00:09:56,950 --> 00:09:58,973
dass wir uns die merken
para que nós a notemos
for us to notice

219
00:10:00,737 --> 00:10:04,671
und zwar ist das die "oldVariables"
e realmente esta é a "oldVariables"
and really is this the "oldVariables"

220
00:10:06,426 --> 00:10:09,288
und dann legen wir uns
e então colocamos 
and then we lie

221
00:10:09,280 --> 00:10:12,617
in unser aktuellen Variablentabelle 
na nossa tabela de variáveis atual
in our actual variables table

222
00:10:12,610 --> 00:10:15,511
eine neue Variablentabelle an,
uma nova tabela de variáveis,
a new variables table,

223
00:10:15,510 --> 00:10:17,906
die am Anfang erstmal leer ist.
que começa vazia no início.
that begins empty at first.

224
00:10:21,786 --> 00:10:23,826
Jetzt können wir wunderbar
Agora nós podemos muito bem
Now we can wonderfully

225
00:10:23,820 --> 00:10:26,093
mit dieser Tabelle arbeiten
trabalhar com esta tabela
work with this table

226
00:10:26,417 --> 00:10:29,168
und am Ende müssen wir natürlich diese
e no fim devemos, naturalmente
and in the end we need, of course

227
00:10:29,160 --> 00:10:32,484
alte Tabelle auch wiederherstellen, diese "oldVariables",
restaurar esta antiga tabela "oldVariables",
restore this old table, namely "oldVariables",

228
00:10:32,480 --> 00:10:34,684
das heißt am Ende der Methode können wir
que significa que podemos no fim do método
meaning we can at the end of the method

229
00:10:34,680 --> 00:10:36,866
das was wir hier temporär verwendet haben,
aquilo que usamos temporariamente,
what we have used temporarily,

230
00:10:36,860 --> 00:10:39,120
diese Variablestabelle einfach vergessen
esta tabela de variáveis esquecer
forget this variables tables 

231
00:10:39,120 --> 00:10:41,982
und dann hier entsprechend sagen:
e de acordo falar então aqui:
and then say here accordingly:

232
00:10:41,980 --> 00:10:45,986
"variables" ist wieder "oldVariables".
"variables" é novamente "oldVariables".
"variables" is again "oldVariables".

233
00:10:45,980 --> 00:10:49,333
Jetzt muss das natürlich passieren vor dem "return",
Agora precisamos passar antes do "return",
Now we must pass before the "return",

234
00:10:49,330 --> 00:10:53,355
das heißt wir ziehen das hier in eine temporäre Variable,
ist significa que nós jogaremos isto daqui em uma variável temporária,
that means that we pull this here in a temporary variable,

235
00:10:54,560 --> 00:10:57,777
die unser result enthält mit dem generierten Code
contido no nosso resultado com o código gerado
which our result contains with the generated code

236
00:10:57,770 --> 00:10:59,480
und die geben wir erst
e fornecemos primeiro
and we give first

237
00:10:59,480 --> 00:11:03,422
nachdem wir die Variablentabelle wiederhergestellt haben zurück.
depois nós restauramos a nossa tabela de variáveis de volta.
after this we restore our variables table.

238
00:11:06,497 --> 00:11:09,982
Dann probieren wir nochmal aus, was jetzt passiert.
Então tentamos de novo, para saber o que acontece.
Then we try again, to know what happens.

239
00:11:12,453 --> 00:11:14,097
Und wie ihr seht:
E como você pode ver:
And s you can see: 

240
00:11:14,090 --> 00:11:16,200
Alle Tests haben funktioniert,
Todos os testes funcionaram,
All the tests worked,

241
00:11:16,200 --> 00:11:18,200
auch das Beispiel jetzt:
também este exemplo:
this example also:

242
00:11:18,200 --> 00:11:21,773
Unsere Variablen sind jetzt getrennt,
Nossas variáveis estão agora separadas,
Our variables are now separated,

243
00:11:21,770 --> 00:11:25,760
das heißt hier kommt tatsächlich erst die vier und dann die 42 raus.
isto significa que retorna primeiro o quatro aqui e então o 42.
this means that returns to us first the four and then the 42.

244
00:11:25,760 --> 00:11:27,671
Was natürlich noch nicht passiert ist
O que naturalmente ainda não aconteceu
What has not happened yet

245
00:11:27,670 --> 00:11:29,937
ist dass wir jetzt einen globalen Scope haben,
é que agora temos um escopo global,
is that we have a global scope now,

246
00:11:29,930 --> 00:11:31,955
ich habe es jetzt erstmal so implementiert
que eu tenho assim primariamente implementado
that I have firstly implemented

247
00:11:31,950 --> 00:11:34,502
dass wir zwei lokale Scopes haben, also
para termos dois escopos locais, assim
to have two local scopes, so

248
00:11:34,500 --> 00:11:38,573
die "main"-Funktion hier unten, die hat einen lokalen Scope
a função "main" aqui debaixo tem um escopo loca
the "main" down here has a local scope

249
00:11:38,570 --> 00:11:39,960
und die hier hat einen lokalen.
e a daqui tem uma local.
and this one has a local.

250
00:11:39,960 --> 00:11:41,195
Das heißt wir könnten jetzt auch nicht
Isto significa que não podemos agora ainda
That means we can't now also

251
00:11:41,190 --> 00:11:43,408
von hier auf die "main"-Funktion zugreifen.
a partir daqui acessar a função "main".
to access the "main" function from here.

252
00:11:43,400 --> 00:11:46,208
Jetzt kann man natürlich sagen dass das Absicht ist,
Agora alguém poderia dizer a intenção é esta,
Now one could say that this is the intention,

253
00:11:46,200 --> 00:11:51,191
aber auf lange Sicht werden wir auch noch globale Variablen
mas para um período de longa duração nós também construímos variáveis globais
but for a long duration period we build also global variables

254
00:11:51,190 --> 00:11:53,551
einbauen, einfach weil wir es können.
simplesmente porque a gente pode.
simply because we can.

255
00:11:54,555 --> 00:11:56,511
In dieser Folge haben wir gelernt
Neste episódio nós aprendemos
In this episode we have learned

256
00:11:56,510 --> 00:11:58,342
wie wir vor dem "return"-Statement
como de um statement "return"
how from a "return" statement

257
00:11:58,340 --> 00:12:00,933
beliebige weitere Instruktionen zulassen.
permitimos quaisquer expansões de instruções. 
we allowed any instruction expansions.

258
00:12:00,930 --> 00:12:03,675
Außerdem haben wir gelernt wie wir die Variablentabbellen
Fora isso, também aprendemos como que a tabela de variáveis
In addition, we have also learned how the variables table

259
00:12:03,670 --> 00:12:07,595
mehrere Funktionen mit einfachen Mitteln voneinander trennen können.
permite mais funções com simples separações de recursos entre si.
allows more functions with resources separation between each other.

260
00:12:07,800 --> 00:12:10,577
Trotzdem gibt es bei den Funktionen noch viel zu tun:
No entanto, ainda falta muito o que fazer com as funções:
Nevertheless, it remains many things to do with the functions:

261
00:12:10,570 --> 00:12:12,840
Das Returnstatement muss aktuell noch immer
O statement de retorno precisa continuar como sempre
The return statement must be always remaining

262
00:12:12,840 --> 00:12:15,351
das letzte Statement in jeder Funktion sein.
o último statement em cada função.
the last statement in each function.

263
00:12:15,350 --> 00:12:17,622
Es gibt keine globalen Variablen.
Ele não fornece nenhuma variável global.
It gives us no global varaiable.

264
00:12:17,620 --> 00:12:19,528
Wir unterstützen noch keine Parameter
Nós ainda não suportamos parâmetros
We do not yet support parameters

265
00:12:19,520 --> 00:12:22,066
und auch keine Funktionen ohne Rückgabewert.
e nem ainda funções sem valor de retorno.
and still no functions without return value.

266
00:12:22,060 --> 00:12:25,386
Wie wir all dies umsetzen seht ihn den nächsten Folgen.
Como fazer isso, nós veremos nos próximos episódios.
We see how to do this in the next episodes.

267
00:12:26,128 --> 00:12:29,351
Schreibt mir eure Fragen, Probleme und Wünsche in die Kommentare.
Escreva-me suas perguntas, problemas e sugestões nos comentários.
Write me your questions, problems and wishes in the comments.

268
00:12:29,350 --> 00:12:31,906
Lasst mir einen Daumen da wenn euch das Video gefallen hat
Curta o vídeo se você gostou dele
Leave a thumb up if you liked this video

269
00:12:31,900 --> 00:12:34,946
und ein Abo damit ihr keine neue Folge verpasst.
e inscreva-se no canal para não perder nenhum episódio.
and subscribe the channel so that you don't loose an episode.

270
00:12:35,177 --> 00:12:36,426
Vielen Dank an Gadarol
Muito obrigado ao Gadarol
Thanks a lot to Gadarol

271
00:12:36,420 --> 00:12:38,893
der mir für die Aufnahmen sein Studio zur Verfügung stellt
que me permitiu usar o seu estúdio para as gravações
that permitted to use his studio for the recordings

272
00:12:38,890 --> 00:12:41,751
und euch vielen Dank für eure Aufmerksamkeit.
e muito obrigado a você pela sua atenção.
and thank you very much for paying attention.

273
00:12:41,750 --> 00:12:43,066
Mein Name ist yankee,
Meu nome é Yankee,
My name is Yankee,

274
00:12:43,060 --> 00:12:44,733
ich hoffe es hat euch Spaß gemacht,
eu espero que vocês tenham se divertido,
I hope you've enjoyed,

275
00:12:44,730 --> 00:12:45,995
bis zum nächsten Mal
até a próxima vez
until the next time

276
00:12:45,990 --> 00:12:48,880
wenn es wieder heißt: "Let's build a compiler".
para o próximo: "Let's build a compiler".
for the next episode of: "Let's build a compiler".
