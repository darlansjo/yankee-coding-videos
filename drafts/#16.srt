1
00:00:00,000 --> 00:00:03,057
Willkommen zurück zu "Let's build a compiler".
Bem-vindo de volta ao "Let's build a compiler". 
Welcome back to "Let's build a compiler". 

2
00:00:03,050 --> 00:00:04,413
In der letzten Folge haben wir
No último episódio nós
In the last episode we had

3
00:00:04,410 --> 00:00:06,968
unseren Funktionen Parameter beigebracht
aprendemos nossos parâmetros de funções
taught our function parameters

4
00:00:06,960 --> 00:00:09,373
aber wir haben uns immernoch nicht darum gekümmert
mas nós ainda não tomamos conta
but we still have not taken care about

5
00:00:09,370 --> 00:00:12,253
dass irgend eine sinnvolle Fehlermeldung kommt
que retorna alguma mensagem de erro útil 
that comes some meaningful error message

6
00:00:12,250 --> 00:00:14,040
wenn der Programmierer mal wieder
se o programador mais uma vez
if the programmer once more

7
00:00:14,040 --> 00:00:15,511
irgendeinen Blödsinn verzapft,
qualquer bobagem junto,
any mortise nonsense 

8
00:00:15,510 --> 00:00:18,737
Wie zum Beispiel eine Funktion aufzurufen
como exemplo chamando uma função
as example calling a function

9
00:00:18,730 --> 00:00:20,515
die überhaupt nicht definiert ist.
que, acima de tudo, nem está definida.
that was not defined at all.

10
00:00:20,964 --> 00:00:22,973
Deswegen werden wir uns in dieser Folge
Por isso, vamos neste episódio vamos
By this, we go in this episode

11
00:00:22,970 --> 00:00:25,568
darum kümmern, dass genau für diesen Fall,
nos importar com isso, para que neste caso,
care about this, for this very case,

12
00:00:25,560 --> 00:00:26,777
nämlich dass der Programmierer
que o programador
namely the programmer

13
00:00:26,770 --> 00:00:29,102
eine Funktion aufruft die nicht definiert ist
chamar uma função que não está definida
call a function not defined yet

14
00:00:29,100 --> 00:00:31,982
eine vernünftige Fehlermeldung geworfen wird.
uma mensagem de erro razoável é jogada.
a reasonable error message is thrown.

15
00:00:32,760 --> 00:00:34,306
Als erstes werden wir
Primeiramente, iremos
At first, we are going to

16
00:00:34,300 --> 00:00:36,333
wieder unsere Spezifikation erweitern,
expandir a nossa especificação de novo,
expand again our specification,

17
00:00:36,330 --> 00:00:37,626
ihr kennt das ja.
você já sabe como.
you know this already.

18
00:00:37,620 --> 00:00:39,324
Da brauchen wir so etwas ähnliches
Ali precisamos de algo
There we need something 

19
00:00:39,320 --> 00:00:40,582
wie was wir bis jetzt für unsere
como o que temos até agora para o nosso
like what we have so far for our

20
00:00:40,580 --> 00:00:43,480
für unsere "Variable already defined" schonmal hatten,
"variable already defined",
"variable already defined",

21
00:00:43,480 --> 00:00:44,604
deswegen kopier ich das
por isso copio isto
so I copy this

22
00:00:44,600 --> 00:00:46,746
und dann passen wir den Test etwas an.
e então passamos o teste para algo.
and then we pass the test to something.

23
00:00:46,920 --> 00:00:48,564
Der Test soll jetzt nämlich sagen
O teste deve agora dizer
The test should now say, namely

24
00:00:48,560 --> 00:00:50,857
dass immer eine
que sempre um
that aways a

25
00:00:50,850 --> 00:00:54,084
"UndefinedFunctionException" geworfen wird
"UndefinedFunctionException" é jogado 
"UndefinedFunctionException" is thrown

26
00:00:55,235 --> 00:00:58,373
und zwar immer dann, wenn wir
e mesmo assim, quando
and whenever we

27
00:00:58,370 --> 00:01:01,955
eine Funktion aufrufen, die... naja...
chamamos uma função, o... bem...
call a function, the... well...

28
00:01:01,950 --> 00:01:02,848
ihr könnt's euch denken:
você pode imaginar:
you can think to yourself:

29
00:01:02,840 --> 00:01:04,284
Nicht definiert ist.
Não está definido.
Is not defined.

30
00:01:05,728 --> 00:01:08,817
Dann brauchen wir natürlich auch einen anderen Code
Então precisamos, é claro, de um outro código
Then we need, of course, another code

31
00:01:08,810 --> 00:01:11,235
und der neue Code soll jetzt
e o novo código deve agora
and the new code should now

32
00:01:11,230 --> 00:01:13,911
eine undefinierte Funktion aufrufen.
chama uma função indefinida.
calls an undefined function.

33
00:01:17,222 --> 00:01:19,013
Der Fehler ist jetzt in Zeile eins
O erro é agora na linha um
The error is at the line one

34
00:01:19,010 --> 00:01:22,146
und an Position... 1, 2, 3, 4, 5, 6, 7, 8.
e na posição... 1, 2, 3, 4, 5, 6, 7, 8.
and at position... 1, 2, 3, 4, 5, 6, 7, 8.

35
00:01:24,417 --> 00:01:26,786
Und die Nachricht müssen wir natürlich noch anpassen,
E o próximo, é claro, ainda deveremos adaptar,
And the next we must, of course, also adapt

36
00:01:26,780 --> 00:01:28,115
da nehmen wir dann:
ali pegamos então:
then we take there:

37
00:01:28,110 --> 00:01:32,493
"Call to undefined ... function".
"Call to undefined ... function".
"Call to undefined ... function".

38
00:01:33,170 --> 00:01:35,537
Der Name der Funktion
O nome da função
The name of the function

39
00:01:35,530 --> 00:01:38,426
ist jetzt natürlich auch ein bißchen länger als nur "x".
é agora, naturalmente, um pouco maior que apenas "x".
and now, naturally, is a little bigger than just "x".

40
00:01:39,333 --> 00:01:41,435
Dann führen wir den Test einmal aus
Então executamos o teste mais uma vez
Than we execute the test once more

41
00:01:41,430 --> 00:01:43,942
um zu kontrollieren dass er auch wirklich fehlschlägt
e para controlar o que ele também dá de erro
and to control what it really gives fails

42
00:01:43,940 --> 00:01:45,711
und wir etwas zu tun haben
e para que tenhamos algo a fazer
and that we have to do something

43
00:01:46,253 --> 00:01:48,782
und ja, er schlägt fehlt
e sim, ele diz que falta
and yes, it's missing

44
00:01:48,780 --> 00:01:50,351
aber wir merken da steht:
mas nós notamos, ali:
but we notice, there:

45
00:01:50,350 --> 00:01:54,777
"Expected exception was *Variable*AlreadyDefinedException",
"Expected exception was *Variable*AlreadyDefinedException",
"Expected exception was *Variable*AlreadyDefinedException",

46
00:01:54,770 --> 00:01:56,933
das haben wir leider vergessen anzupassen.
que infelizmente havíamos esquecido de adaptar.
which we have unfortunately forgotten to adapt.

47
00:01:56,930 --> 00:01:59,986
Da müssen wir jetzt also auch noch hier reinschreiben:
Então precisamos ainda escrever aqui dentro:
Then we also need to write inside:

48
00:01:59,980 --> 00:02:02,431
"UndefinedFunctionException".
"UndefinedFunctionException".
"UndefinedFunctionException".

49
00:02:04,280 --> 00:02:06,653
Dann erstellen wir diese Klasse natürlich noch,
Então colocamos ainda esta classe,
Then we put this class too,

50
00:02:06,650 --> 00:02:09,071
legen die ins source-Verzeichnis
para ficar no nosso diretório fonte
to stay in our source directory

51
00:02:09,070 --> 00:02:11,177
zu unseren anderen Exceptions
para nossas outras exceptions
to our other exceptions

52
00:02:13,650 --> 00:02:18,235
und lassen sie von unser "CompileException" ableiten.
e deixamos elas derivarem do nosso "CompileException".
and we let them derivate from our "CompileException". 

53
00:02:18,973 --> 00:02:20,768
Den Constructor nehmen wir auch noch mit
O constructor nós pegamos conosco
The constructor we take with us 

54
00:02:20,760 --> 00:02:22,182
und dann kann es losgehen.
e então ele pode seguir.
and then it can continue.

55
00:02:22,620 --> 00:02:24,324
Das Token was wir hier kriegen,
O token que nós recebemos,
The token that we've received,

56
00:02:24,320 --> 00:02:26,346
das ist jetzt genau genommen
que é que temos agora 
that is taken now 

57
00:02:26,340 --> 00:02:29,711
das Token indem der "function name" steht.
o token que está dentro da "function name".
the token that stands in the "function name".

58
00:02:30,020 --> 00:02:32,360
Damit das ein bißchen klarer ist
Assim fica um pouco mais claro
So, it is a little bit clearer

59
00:02:32,360 --> 00:02:34,222
benennen wir hier den Parameter um
nomeamos o parâmetro daqui
here we name the parameter 

60
00:02:34,220 --> 00:02:37,582
und dann wollen wir uns den Name der Funktion merken.
e então queremos notar o nome da função.
and then we want to note the function name.

61
00:02:37,580 --> 00:02:41,364
Also erstellen wir hier eine Membervariable "functionName"
Assim criamos aqui uma variável membro "functionName"
So we create here a member variable "functionName"

62
00:02:41,786 --> 00:02:45,160
und die werden wir jetzt gleich im Constructor befüllen.
e de novo nós preenchemos da mesma forma nosso constructor.
and so we fill our constructor here in the same way.

63
00:02:46,004 --> 00:02:48,462
Der "functionName" ist dann einfach
O "functionName" está então simplesmente
The "functionName" is simply

64
00:02:48,460 --> 00:02:51,937
aus dem Token der Text.
no token do texto.
in the text token.

65
00:02:52,733 --> 00:02:55,777
Dann brauchen wir noch eine "getMessage()"-Funktion,
Então precisamos ainda de uma função "getMessage()",
Then we also need a "getMessage()" function,

66
00:02:55,770 --> 00:02:57,528
die ist so ähnlich von... 
que é similar ao...
that is similar to...

67
00:02:57,520 --> 00:02:58,644
was wir schonmal hatten,
o que já temos até o momento,
what we already had,

68
00:02:58,640 --> 00:03:00,920
zum Beispiel bei "variable already defined",
por exemplo, com a "variable already defined",
for example, with the "variable already defined",

69
00:03:00,920 --> 00:03:02,680
deswegen klauen wir uns die jetzt da mal
por isso roubamos ela mais uma vez
this is why we steal it again now

70
00:03:02,680 --> 00:03:04,391
und dann passen wir die an
e então ajustamos ela
and then we adjust it

71
00:03:07,671 --> 00:03:11,702
und dann holen wir uns aus dem Test nochmal
e então pegamos do teste novamente
and then we get out from the test again

72
00:03:11,700 --> 00:03:14,191
den Text der da wirklich stehen soll,
o texto que realmente deveria estar lá,
the text that should really be there,

73
00:03:14,190 --> 00:03:16,475
also "call to undefined function"
logo "call to undefined function"
so "call to undefined function"

74
00:03:16,470 --> 00:03:18,715
und in den Klammern steht natürlich
e nas chaves está, é claro,
and in the brackets there is, of course,

75
00:03:18,710 --> 00:03:21,866
nicht ein varName, sondern unser functionName.
não uma variável, mas nossa functionName.
not a variable, but our functionName.

76
00:03:21,860 --> 00:03:23,893
So, wunderbar, jetzt müssen wir diese Exception
Então, maravilha, agora devemos jogar essa
So, wonderful, we have now to throw this

77
00:03:23,890 --> 00:03:26,711
nurnoch werfen und zwar bei "visitFunctionCall".
exception mais uma vez e o "visitFunctionCall" junto.
exception again and by the "visitFunctionCall". 

78
00:03:26,710 --> 00:03:28,382
Da müssen wir jetzt nachgucken:
Precisamos ver novamente aqui:
We must look now after again:

79
00:03:28,380 --> 00:03:31,168
Diese Function, die wir gerade gefunden haben,
Desta função, que recém encontramos,
This function, that we have just found,

80
00:03:31,160 --> 00:03:33,568
also die aufgerufen werden soll:
para que deva ser chamada:
so it would be called:

81
00:03:33,568 --> 00:03:35,560
Ist die denn tatsächlich definiert?
Ela está então verdadeiramente definida?
Is it really defined then?

82
00:03:35,560 --> 00:03:37,706
Wenn das nicht der Fall ist:
Quando não for o caso:
When it's not the case:

83
00:03:38,342 --> 00:03:39,640
Dann...
Então...
Then...

84
00:03:39,640 --> 00:03:41,782
schmeißen wir unsere
jogamos o nosso
we throw our

85
00:03:41,780 --> 00:03:46,204
gerade eben neu angelegte UndefinedFunctionException
UndefinedFunctionException recém criado novo antes
UndefinedFunctionException created new just before

86
00:03:46,200 --> 00:03:50,764
und übergeben der das Token mit dem Funktionsname.
e passamos este token com o nome da função.
and we pass this token with the function name.

87
00:03:51,595 --> 00:03:53,426
Nur wir kommen jetzt an dieses
Apenas agora chegamos neste
Did we come just now in this

88
00:03:53,420 --> 00:03:55,862
"functionIsDefined"? Woher wissen wir das?
"funcitonIsDefined"? Como sabemos disso?
"funcitonIsDefined"? How do we know this? 

89
00:03:55,860 --> 00:03:57,915
Rufen wir uns doch nochmal ins Gedächtnis
Chamamos uma vez mais como lembrança
We call once more in memory

90
00:03:57,910 --> 00:04:00,280
wie wir das Ganze mit den Variablen gemacht haben.
tudo o que tínhamos feito com as variáveis.
what all that we've done with the variables.

91
00:04:00,280 --> 00:04:02,524
Bei den Variablen haben wir hier diese Map
Tínhamos este mapa junto a estas variáveis
We had this variables by this map

92
00:04:02,520 --> 00:04:04,964
und da stehen alle definierten Variablen drin
e lá estão todas as definições de variáveis dentro
and we have there all the variables definitions inside 

93
00:04:04,960 --> 00:04:07,422
und wenn wir zum Beispiel "visitAssignment" haben
e se temos "visitAssignment" por exemplo
and if we have "visitAssignment" for example

94
00:04:07,420 --> 00:04:10,826
da haben wir diese "requireVariableIndex"-Funktion,
temos esta função "requireVariableIndex" ali,
we have there the "requireVariableIndex",

95
00:04:10,820 --> 00:04:13,333
da greifen wir auf die Variablentabelle zu,
então acessamos a tabela de variáveis,
we access the variables table,

96
00:04:13,330 --> 00:04:14,551
schauen nach:
mostrando:
looking for:

97
00:04:14,777 --> 00:04:18,075
Ist diese Variable in der Variablentabelle drin?
Esta variável está dentro da tabela de variáveis?
Is this variable inside our variables table?

98
00:04:18,070 --> 00:04:20,146
Wenn nicht, kommt hier ein "null" zurück
Se não, aqui retorna um "null"
If not, then returns a "null" here

99
00:04:20,140 --> 00:04:23,360
und wir können entsprechend unsere Exception werfen.
e podemos jogar a nossa exception de acordo.
and we can throw our exception accordingly.

100
00:04:23,786 --> 00:04:27,724
In "visitVarDeclaration" befüllen wir die Variablentabelle
No "visitVarDeclaration" preenchemos a tabela de variáveis
In "visitVarDeclaration" we fill the variables table

101
00:04:27,720 --> 00:04:30,511
und daher sind die Variablen
e depois as variáveis estão
and after, the variables are

102
00:04:30,510 --> 00:04:31,955
auch immer in der Tabelle drin.
sempre dentro da tabela.
always inside the table.

103
00:04:31,950 --> 00:04:32,813
Jetzt überlegen wir mal:
Agora pensemos sobre isto:
Now we think over it:

104
00:04:32,810 --> 00:04:34,902
Was ist denn, wenn wir dieses System
O que é então, se neste sistema 
What is then, if in this system

105
00:04:34,900 --> 00:04:37,311
jetzt anpassen wollen auf unsere Funktionen?
queiramos passar nossas funções?
we want to pass our functions?

106
00:04:37,310 --> 00:04:39,786
Also sagen wir mal, wir haben eine solche Funktion,
Assim dizemos, que nós temos tal função,
So saying, that we have such a function, 

107
00:04:39,780 --> 00:04:42,195
ganz einfach mit irgendeinem Inhalt
simplesmente com algum conteúdo
just with any content

108
00:04:42,466 --> 00:04:45,200
und danach wird diese Funktion aufgerufen.
e depois chamamos esta função.
and after this we call this function.

109
00:04:45,200 --> 00:04:47,404
Wunderbar: Unser Visitor geht
Maravilha: Nosso visitor vai
Wonderful: Our visitor goes

110
00:04:47,400 --> 00:04:49,777
den Code von oben nach unten durch,
percorrendo o código de cima a baixo,
traverse our code from the top to the bottom,

111
00:04:49,770 --> 00:04:51,782
das heißt er wird zuerst
isto significa que ele primeiro
this means that it at first

112
00:04:51,780 --> 00:04:54,471
die "function declaration" finden
encontra a "function declaration"
finds the "function declaration"

113
00:04:54,470 --> 00:04:56,115
und dann den Funktionsaufruf.
e então a chamada de função.
and then the function call.

114
00:04:56,110 --> 00:04:58,986
Da die "function declaration" zuerst gefunden wurde
Ali primeiro seria encontrada a "function declaration"
There would, firstly, be found a "function declaration"

115
00:04:58,980 --> 00:05:01,333
wäre die Funktion angelegt
a função seria aplicada
the function would be applied

116
00:05:01,330 --> 00:05:03,813
aber wenn wir jetzt die Reihenfolge vertauschen
mas caso nós mudemos agora a ordem
but if we would now change the order

117
00:05:03,810 --> 00:05:05,453
und zuerst die Funktion aufrufen
e chamemos primeiro a função
and would call the function first

118
00:05:05,450 --> 00:05:07,200
und sie dann erst deklarieren,
e declarando ela primeiro,
and declaring it first,

119
00:05:07,200 --> 00:05:10,128
dann ist die Funktion eben noch nicht definiert.
então a função anterior ainda não está definida.
then the before function is still not defined.

120
00:05:11,097 --> 00:05:12,760
Früher hat man gesagt,
Mais cedo foi dito que,
Early one does say that,

121
00:05:12,760 --> 00:05:15,177
häufig um Compiler einfacher zu machen:
geralmente faze-se num compilador mais simples:
generally to make in a simpler compiler:

122
00:05:15,170 --> 00:05:16,111
Naja das geht halt nicht,
Bem, isto não irá parar,
Well, this will not stop,

123
00:05:16,110 --> 00:05:17,662
die Funktion die man aufruft
a função que se chama
one does call the function 

124
00:05:17,660 --> 00:05:19,622
die muss halt vorher definiert sein.
que deva parar antes de ser definida.
that must stop before it's defined.

125
00:05:19,620 --> 00:05:22,706
Also in C ist das zum Beispiel so oder in Pascal
Assim como é um exemplo no C, também o é no Pascal
So in C it's exemplified, but also in Pascal 

126
00:05:22,700 --> 00:05:25,733
und da gibt es dann sogenannte
e ali ele nos fornece o assim chamado
and there he gives the so called

127
00:05:25,730 --> 00:05:27,031
"Forward declarations",
"Forward declarations",
"Forward declarations",

128
00:05:27,030 --> 00:05:28,408
Also wenn man eine Funktion
Assim quando alguém quer
So when someone would like

129
00:05:28,400 --> 00:05:31,368
doch aufrufen möchte, die erst später kommt,
chamar uma função, vindo o que está primeiro depois,
to call a function, coming the first later,

130
00:05:31,360 --> 00:05:33,413
dann muss man erstmal definieren:
então precisa antes definir:
then one must define before:

131
00:05:33,410 --> 00:05:36,253
Diese Funktion wird demnächst noch definiert
Esta função ainda será definida depois
This function will be defined later after

132
00:05:36,250 --> 00:05:38,280
aber so wird sie heißen
mas, assim sendo, iremos chamar
but, so being, we will call

133
00:05:38,280 --> 00:05:39,920
und das hier sind die Parameter
e aqui estão os parâmetros
and here are the parameters

134
00:05:39,920 --> 00:05:40,755
und dann konnte man
e então pode-se
and then one can

135
00:05:40,750 --> 00:05:42,786
auch schon vorher auf die Funktion zugreifen
antes ainda de acessar a função
before even access the function

136
00:05:42,780 --> 00:05:46,093
aber das ist wirklich ziemlich 20. Jahrhundert,
mas isso é muito parecido com o século 20,
but that's very similar to 20th century,

137
00:05:46,090 --> 00:05:47,182
wir wollen natürlich
nós naturalmente queremos
we surely want 

138
00:05:47,180 --> 00:05:49,875
dass wir sowas nicht mehr machen müssen.
não precisemos fazer mais algo assim.
that we don't need to do the same again.

139
00:05:50,288 --> 00:05:52,582
Um dahin zu kommen
Para chegar aí
To get there

140
00:05:52,580 --> 00:05:55,488
dass jetzt wir auch Funktionen aufrufen können
para que possamos também chamar funções
that we can also call functions

141
00:05:55,480 --> 00:06:00,471
die bereits vor unserer Funktionsdefiniton
que sejam chamada antes das nossas definições de função
that would be called before our 

142
00:06:00,470 --> 00:06:01,942
aufgerufen werden
function definitions
definições de função

143
00:06:02,090 --> 00:06:03,475
müssen wir allerdings erstmal
devemos, contudo, primeiro
we must, however, firstly

144
00:06:03,470 --> 00:06:06,435
über unseren kompletten Baum drübergehen
passar a nossa árvore completa
pass our complete tree

145
00:06:06,430 --> 00:06:09,417
und alle Funktionsdefinitionen uns raussuchen
e procurar por todas as definições de função
and search for all the functions definitions.

146
00:06:09,410 --> 00:06:10,773
damit wir alle Funktionen
para conhecermos todas as funções
so that we know all functions

147
00:06:10,770 --> 00:06:13,271
von Anfang an kennen, die definiert sind.
desde o começo em que elas são definidas.
that they are defined.

148
00:06:13,270 --> 00:06:16,475
Dafür erstellen wir uns einen neuen Visitor,
Para isso criamos um novo visitor,
For this we create a new visitor,

149
00:06:16,470 --> 00:06:18,720
der genau das für uns tut.
que sabe exatamente fazê-lo.
which knows exactly to do this.

150
00:06:19,244 --> 00:06:21,822
Diesen Visitor, den nennen wir dann
Este visitor iremos chamar de
We will call this visitor

151
00:06:21,820 --> 00:06:23,928
"FunctionDefinitionFinder"
"FunctionDefinitionFinder"
"FunctionDefinitionFinder"

152
00:06:25,191 --> 00:06:28,160
und leiten wie unseren anderen Visitor
e deixamos como nosso outro visitor
and we lay it like our other visitor

153
00:06:28,160 --> 00:06:30,253
von "DemoBaseVisitor" ab.
do "DemoBaseVisitor".
from "DemoBaseVisitor.

154
00:06:32,053 --> 00:06:33,764
Der soll uns jetzt einfach
Ele deve agora
It must now

155
00:06:33,760 --> 00:06:35,395
ein Set zurückgeben,
retornar um conjunto,
return a set,

156
00:06:35,390 --> 00:06:37,151
ein Set mit Strings,
um conjunto com strings,
a set with strings,

157
00:06:37,822 --> 00:06:40,222
nämlich genau genommen ein Set
por uma definição estrita, um set
namely, strictly speaking, a set

158
00:06:40,220 --> 00:06:43,466
welches alle Funktionsnamen enthält
contendo todos os nomes de funções
containing all the function names

159
00:06:43,460 --> 00:06:44,768
die definiert sind.
que estão definidas.
that are defined.

160
00:06:45,946 --> 00:06:47,933
Funktionsnamen bekommen wir
Os nomes das funções nós pegamos
The functions names we get

161
00:06:47,930 --> 00:06:50,497
aus der "FunctionDefinition".
da "FunctionDefinition".
from the "FunctionDefinition".

162
00:06:51,640 --> 00:06:52,973
Da steht jetzt
que têm agora
that have right now

163
00:06:52,970 --> 00:06:56,240
unser Funktionsname in dem Kontext drin
nossos nomes de funções dentro do contexto
our function names inside the context

164
00:06:58,600 --> 00:07:01,697
und jetzt müssen wir den nurnoch als Set zurückgeben.
e agora precisamos então apenas retornar como conjunto.
and now we only need to return as set.

165
00:07:01,690 --> 00:07:03,431
Da gibt es in Java passenderweise
Lá ele dá no correspondente Java
There it gives us the corresponding Java

166
00:07:03,430 --> 00:07:05,857
"Collections.singleton()"
"Collections.singleton()"
"Collections.singleton()"

167
00:07:05,850 --> 00:07:09,773
und das erstellt ein Set mit genau einem Eintrag.
e ele cria um conjunto com exatamente uma entrada.
and he creates a set with exactly one entry.

168
00:07:11,155 --> 00:07:12,857
Jetzt kann es natürlich durchaus noch sein,
Agora podemos naturalmente ser assim,
Now it may, of course be quite so,

169
00:07:12,850 --> 00:07:15,773
dass unser Programm ein paar mehr
que nosso programa tem um par a mais 
that our program has a few more

170
00:07:15,770 --> 00:07:18,311
Funktionsdefinitionen hat und dann müssen wir die
de definições de funções e então precisamos
function definitions and then we need

171
00:07:18,310 --> 00:07:19,902
irgendwie zusammenfügen können,
poder adicionar junto alguma coisa,
to be able to add something together,

172
00:07:19,900 --> 00:07:21,635
dafür implementieren wir wieder die
para que implementemos novamente o
for that we could implemente again the

173
00:07:21,630 --> 00:07:24,080
"aggregateResult"-Methode.
método "aggregateResult".
"aggregateResult" method.

174
00:07:24,653 --> 00:07:26,853
Für den Anfang funktioniert das ganz ähnlich
Para o começo funcionar similarmente igual
For the begin to work similarly the same

175
00:07:26,850 --> 00:07:28,253
wie wir das in unserem
como no nosso
like in our 

176
00:07:28,250 --> 00:07:30,057
Hauptvisitor auch schonmal haben:
visitor principal temos novamente:
main visitor we have again:

177
00:07:30,050 --> 00:07:32,848
Wir gucken erstmal nach: Ist das aggregate "null"?
Nós olhamos primeiramente: O aggregate é "null"?
We take a look, at first: Is the aggregate "null"?

178
00:07:32,840 --> 00:07:34,591
Wenn das "null" ist,
Se for "null",
If it's "null",

179
00:07:34,590 --> 00:07:37,111
dann geben wir das nextResult zurück,
então damos nosso nextResult de volta,
then we give our nextResult as return,

180
00:07:37,457 --> 00:07:41,764
wenn aggregate also nicht "null" war
se o aggregate também não era "null"
if the aggregate also wasn't "null"

181
00:07:41,764 --> 00:07:43,760
aber nextResult "null" ist,
mas o nextResult é "null",
but the nextResult is "null",

182
00:07:43,760 --> 00:07:46,168
dann geben wir das aggregate zurück
então retornamos o aggregate
then we return the aggregate

183
00:07:46,160 --> 00:07:48,026
und wenn das nicht der Fall ist,
e se não for o caso,
and if it's not the case,

184
00:07:48,020 --> 00:07:50,053
dann sind beide nicht null,
então ambos não são null,
then both aren't null,

185
00:07:50,050 --> 00:07:53,160
also sowohl aggregate als auch nextResult
assim tanto aggregate como o nextResult
as well as the aggregate the nextResult

186
00:07:53,160 --> 00:07:54,115
sind nicht null
não são null
are not null

187
00:07:54,110 --> 00:07:57,275
und dann müssen wir die beiden Sets mergen.
e então devemos unir ambos os conjuntos.
and then we need to join both sets.

188
00:07:57,270 --> 00:08:00,200
Dafür erstellen wir uns jetzt also ein neues Set
Para criarmos agora também um novo conjunto
So that we create now a new set too

189
00:08:00,200 --> 00:08:03,226
und das ist das zusammengeführte Set,
e para que executemos o combinado conjunto,
and to execute the combined set,

190
00:08:03,220 --> 00:08:05,195
also nenne ich es mal "merged"
assim eu o chamo de "merged"
so I name it "merged"

191
00:08:05,613 --> 00:08:08,582
und da erstellen wir uns dann ein neues HashSet
e criamos ali então um novo HashSet
and then we create there a new HashSet

192
00:08:08,580 --> 00:08:11,311
und übergeben im Constructor eine Collection,
e passamos no constructor uma Collection
and then we pass to our constructor a collection,

193
00:08:11,310 --> 00:08:13,795
das kommt schonmal alles in das Set rein,
na qual chega tudo o que está no conjunto,
in which comes everything inside the set,

194
00:08:13,790 --> 00:08:15,866
sagen wir mal alles aus dem aggregate
dizemos tudo o que vai sobre o aggregate
we say everything that goes over the aggregate

195
00:08:15,860 --> 00:08:17,862
geht in das merged Set rein und
dentro do nosso conjunto combinado e
inside our merged set and

196
00:08:17,860 --> 00:08:19,240
dann müssen wir
então nós devemos
then we need

197
00:08:19,240 --> 00:08:21,675
alle Einträge aus dem "nextResult"
todas as entradas do "nextResult"
all the entries from the "nextResult"

198
00:08:21,670 --> 00:08:23,306
auch noch in das Set reinpacken,
que também cabem dentro do conjunto,
that also fit inside the set,

199
00:08:23,300 --> 00:08:25,435
dafür können wir einfach "addAll" aufrufen
para isso podemos simplesmente chamar "addAll"
for that we can just call "addAll"

200
00:08:25,430 --> 00:08:27,244
und nextResult übergeben.
e passar nextResult.
and pass nextResult.

201
00:08:27,240 --> 00:08:31,080
Dann geben wir unser merged Set zurück
Então damos nosso conjunto combinado de volta
Then we give our merged set as return

202
00:08:31,555 --> 00:08:33,515
und sind hiermit fertig.
e estamos prontos por aqui.
and we are here ready.

203
00:08:34,377 --> 00:08:35,977
Jetzt müssen wir natürlich
Agora devemos, é claro,
Now we must, of course,

204
00:08:35,970 --> 00:08:39,324
unseren "FunctionDefinitionFinder" auch aufrufen,
chamar também a nossa "FunctionDefinitionFinder",
also call our "FunctionDefinitionFinder",

205
00:08:39,320 --> 00:08:41,413
das machen wir dann in der "Main"
isto nós fazemos dentro do "Main"
this we do inside the "Main"

206
00:08:41,410 --> 00:08:43,377
an der gleichen Stelle
no mesmo local
at the same point

207
00:08:43,370 --> 00:08:46,786
an der wir auch unseren bisjetzigen Visitor aufufen.
ali até agora nós também chamamos o nosso visitor.
there we also called our visitor until now.

208
00:08:47,284 --> 00:08:49,533
Da holen wir uns also entsprechend
O pegamos de acordo
We get it accordingly

209
00:08:49,530 --> 00:08:51,675
auch wieder das Set
novamente o conjunto
again also the set

210
00:08:52,151 --> 00:08:54,088
mit den Strings
com as strings
with the strings

211
00:08:55,657 --> 00:08:58,328
indem wir unseren Visitor erzeugen
produzido dentro do nosso visitor
produced inside our visitor

212
00:08:58,320 --> 00:08:59,440
und den einmal auf
e mais uma vez
and once again

213
00:08:59,440 --> 00:09:01,973
unseren gesammelten ParseTree loslassen.
deixamos nosso ParseTree coletado.
we let our collected ParseTree.

214
00:09:01,970 --> 00:09:04,395
Wenn unser Set
Se o nosso conjunto
If our Set

215
00:09:04,835 --> 00:09:06,915
überhaupt keine Funktionen enthält,
não contém nenhuma função,
does not contain a function at all,

216
00:09:06,910 --> 00:09:08,022
das müssen wir im Kopf behalten,
precisamos manter em mente,
we need to keep in mind,

217
00:09:08,020 --> 00:09:10,213
dann ist "definedFunctions" jetzt natürlich null.
que "definedFunctions" é null agora.
that "definedFunctions" is null now.

218
00:09:10,631 --> 00:09:13,137
In MyVisitor müssen wir dann jetzt noch
No MyVisitor ainda precisamos então
In MyVisitor we still need yet

219
00:09:13,130 --> 00:09:15,413
einen Constructor anlegen,
criar um constructor,
create a constructor,

220
00:09:15,973 --> 00:09:18,617
der unsere ganzen gesammelten
que una toda a coleção
for joining all the collection

221
00:09:18,610 --> 00:09:21,760
Definitionen entgegennimmt
de respostas de definições
of definition answers

222
00:09:22,204 --> 00:09:24,577
und entsprechend speichert
e salve de acordo
and save accordingly

223
00:09:24,570 --> 00:09:26,715
damit wir nachher nachgucken können:
para que depois possamos olhar:
so that afterward we can look for commands:

224
00:09:27,306 --> 00:09:29,231
Zu jedem beliebigen String:
Para qualquer dada string:
For any given string:

225
00:09:29,230 --> 00:09:32,137
Gibt es eine Funktion mit diesem Name.
Nos é dada uma função com este nome.
It's given to us a function with this name.

226
00:09:33,435 --> 00:09:35,484
Damit wir jetzt nicht diesen Sonderfall
Com isto, não precisamos neste caso
In this case we don't need

227
00:09:35,480 --> 00:09:36,573
beachten müssen, dass
nos preocupar que
to care about the

228
00:09:36,570 --> 00:09:38,826
"definedFunctions" null sein kann
"definedFunctions" possa ser null
"definedFunctions" can be null

229
00:09:38,820 --> 00:09:40,257
prüfen wir das einfach hier,
apenas consideramos isto aqui,
we consider that just here,

230
00:09:40,250 --> 00:09:42,048
sagen wenn das "null" ist:
dizemos que se for "null":
we say that if it is "null":

231
00:09:42,040 --> 00:09:44,151
Dann sollen unsere "definedFunctions"
Então as nossas "definedFunctions" devem
Then our "definedFunctions" need

232
00:09:44,150 --> 00:09:46,288
einfach ein "empty set" sein,
simplesmente ser um "empty set",
to be just an "empty set",

233
00:09:47,311 --> 00:09:50,124
da gibt es diese praktische "emptySet"-Methode,
dando um método prático de "emptySet"
giving a practical "emptySet" method

234
00:09:50,120 --> 00:09:52,777
die uns ein effizientes leeres Set zurückgibt
para retornar um conjunto vazio eficiente
to return an efficient empty set

235
00:09:52,990 --> 00:09:54,973
und wenn es nicht "null" ist,
e se não for "null",
and if it's not "null",

236
00:09:54,970 --> 00:09:56,520
dann nehmen wir eben das Set,
então apenas pegamos o conjunto,
then we just take the set,

237
00:09:56,520 --> 00:09:58,146
was uns übergeben wurde.
que nos foi passado.
which was handed over to us.

238
00:10:00,013 --> 00:10:02,102
So, jetzt können wir wieder zurückgehen
Assim, podemos agora retornar novamente
So, now we can return again

239
00:10:02,100 --> 00:10:04,017
auf unser "visitFunctionCall"
na nossa "visitFunctionCall"
on our "visitFunctionCall"

240
00:10:04,010 --> 00:10:06,275
und jetzt haben wir alle Daten zur Verfügung
e agora temos todos os dados disponíveis
and now we have all files available

241
00:10:06,270 --> 00:10:09,062
um unser "functionIsDefined" zu ersetzen
para criar no nosso "functionIsDefined"
to create on our "functionIsDefined"

242
00:10:09,062 --> 00:10:11,060
mit etwas, was funktioniert.
com algo que funcione.
with something that works.

243
00:10:11,542 --> 00:10:13,120
Schauen wir also hier nach,
Observamos aqui também,
We take a look also here,

244
00:10:13,120 --> 00:10:15,311
in unseren "definedFunctions":
no nosso "definedFunctions":
in our "definedFunctions":

245
00:10:15,542 --> 00:10:19,977
Wenn dieses Set nicht enthält:
Se este conjunto não contém:
If this set does not contain:

246
00:10:19,970 --> 00:10:23,355
Einen Eintrag mit unserem "function name",
Uma entrada com nossa "function name",
An entry with our "function name",

247
00:10:23,350 --> 00:10:25,413
dann ist unsere Funktion nicht definiert
então a nossa função não está definida
then our function is not defined

248
00:10:25,410 --> 00:10:27,555
und wir wollen einen Fehler werfen.
e nós queremos jogar um erro.
and we want to throw an error.

249
00:10:27,826 --> 00:10:29,657
Jetzt führen wir den Test einmal aus
Agora podemos executar o teste mais uma vez
Now we can execute our test once more

250
00:10:29,650 --> 00:10:31,728
und gucken ob es so einfach war
e olhamos se foi simplesmente
and we look if it was just

251
00:10:31,720 --> 00:10:33,200
und der Test schon durchläuft.
e o teste já passa.
and the test passes.

252
00:10:33,200 --> 00:10:35,751
Und tatsächlich: Es hat funktioniert!
E realmente: Ele funcionou!
And really: It has worked!

253
00:10:36,053 --> 00:10:38,382
Der Test läuft erfolgreich druch,
O teste executou com sucesso,
The test runs successfully,

254
00:10:38,380 --> 00:10:39,688
ab sofort wird
imediatamente é
immediately is

255
00:10:39,680 --> 00:10:42,333
eine vernünftige Fehlermeldung geworfen
jogada uma razoável mensagem de erro
thrown a reasonable error message

256
00:10:42,330 --> 00:10:44,782
sobald wir eine Funktion aufrufen,
assim que chamamos uma função,
as soon as we call a function,

257
00:10:44,780 --> 00:10:46,631
die nicht definiert ist.
que não está definida.
not yet defined.

258
00:10:47,030 --> 00:10:48,595
In dieser Folge haben wir gelernt
Neste episódio nós aprendemos
In this episode we learned

259
00:10:48,590 --> 00:10:50,875
wie wir einen zusätzlichen Visitor einsetzen können
como podemos colocar em um visitor adicional
how we can put in an additional visitor

260
00:10:50,870 --> 00:10:54,106
um eine Liste mit allen definierten Funktionen zu erhalten.
para obter uma lista com todas a funções definidas.
to obtain a list with all the defined functions.

261
00:10:54,100 --> 00:10:55,435
Außerdem haben wir gelernt
Além disso, aprendemos
In addition, we learned

262
00:10:55,430 --> 00:10:57,373
wie wir die erhaltene Liste dazu einsetzen
como configuramos a lista obtida para que
how to set the obtained list so that

263
00:10:57,370 --> 00:11:00,115
eine aussagekräftige Fehlermeldung zu produzieren
produza uma mensagem de erro com significado
we produce a meaningful erro message

264
00:11:00,110 --> 00:11:01,524
wenn der Programmierer versucht
se o programador buscar
if the programmer searches

265
00:11:01,520 --> 00:11:02,888
eine Funktion aufzurufen,
uma chamada de função que
a function call in which

266
00:11:02,880 --> 00:11:04,493
die er nicht vorher definiert hat.
ainda não havia sido definida.
it wasn't defined already.

267
00:11:04,490 --> 00:11:05,400
In den nächsten Folgen
Nos próximos episódios
In the next episodes

268
00:11:05,400 --> 00:11:06,782
können wir das System noch ausbauen
seremos capazes de expandir o sistema
we'll be able to expand our system

269
00:11:06,780 --> 00:11:09,217
um zu überprüfen dass die Anzahl der Parameter
ao verificar que o número de parâmetros
by verifying that the number of parameters

270
00:11:09,210 --> 00:11:10,915
in Funktionsaufrufen auch stimmt
na chamada de função está correto
is correct in the function call

271
00:11:10,910 --> 00:11:13,697
und das keine Funktion zweimal definiert wurde.
e que nenhuma função foi duplamente definida.
and that no function was not twice defined.

272
00:11:13,690 --> 00:11:14,715
Bis dahin:
Até lá:
Until then:

273
00:11:14,710 --> 00:11:16,680
Lasst mir Kommentar mit euren Fragen,
Deixe seu comentário com suas perguntas,
Comment with your questions,

274
00:11:16,680 --> 00:11:18,071
Problemen und Wünschen da.
problemas e pedidos.
problems and requests.

275
00:11:18,070 --> 00:11:20,235
Gebt mir einen Daumen wenn euch das Video gefallen hat
Curta o vídeo se você gostou dele
Leave a thumb up if you liked the video

276
00:11:20,230 --> 00:11:21,604
und abboniert meinen Kanal
e assine o meu canal
and subscribe my channel

277
00:11:21,600 --> 00:11:23,977
damit ihr keine neue Folge verpasst.
assim você não perde nenhum episódio novo.
so you will not miss any new episode.

278
00:11:24,151 --> 00:11:25,346
Vielen Dank an Gadarol
Muito obrigado ao Gadarol
Thanks a lot to Gadarol

279
00:11:25,340 --> 00:11:27,853
der mir für die Aufnahmen sein Studio zur Verfügung stellt
que me permitiu usar seu estúdio para as gravações
that permitted to use his studio for the recordings

280
00:11:27,850 --> 00:11:30,253
und euch vielen Dank für eure Aufmerksamkeit.
e muito obrigado a vocês pela atenção.
and thanks a lot to you for paying attention. 

281
00:11:30,250 --> 00:11:32,280
Schaltet wieder ein, wenn es wieder heißt:
Voltaremos a estar juntos em um outro:
We'll be back together in another:

282
00:11:32,280 --> 00:11:34,280
"Let's build a compiler".
"Let's build a compiler".
"Let's build a compiler".

